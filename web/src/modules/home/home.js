//take data -> process the list into html
let data = {
	"filters": {
		"genres": [
			"Horror",
			"Thriller",
			"Fantasy",
			"Action",
			"Adventure",
			"Science Fiction",
			"Animation",
			"Family",
			"Comedy",
			"Romance",
			"Drama",
			"Mystery",
			"History",
			"War",
			"Crime"
		],
		"shows": [
			"10:30",
			"14:30",
			"17:30",
			"20:30"
		]
	},
	"bannerData": [
		{
			"backdropPath": "/aAgGrfBwna1nO4M2USxwFgK5O0t.jpg",
			"genres": [
				{
					"id": 27,
					"name": "Horror"
				},
				{
					"id": 53,
					"name": "Thriller"
				},
				{
					"id": 14,
					"name": "Fantasy"
				}
			],
			"title": "Evil Dead Rise",
			"runtime": 96,
			"posterPath": "/5ik4ATKmNtmJU6AYD0bLm56BCVM.jpg",
			"apiMovieId": 713704,
			"movieId": 1,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		},
		{
			"backdropPath": "/3CxUndGhUcZdt1Zggjdb2HkLLQX.jpg",
			"genres": [
				{
					"id": 28,
					"name": "Action"
				},
				{
					"id": 12,
					"name": "Adventure"
				},
				{
					"id": 878,
					"name": "Science Fiction"
				}
			],
			"title": "Ant-Man and the Wasp: Quantumania",
			"runtime": 125,
			"posterPath": "/qnqGbB22YJ7dSs4o6M7exTpNxPz.jpg",
			"apiMovieId": 640146,
			"movieId": 2,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		},
		{
			"backdropPath": "/nLBRD7UPR6GjmWQp6ASAfCTaWKX.jpg",
			"genres": [
				{
					"id": 16,
					"name": "Animation"
				},
				{
					"id": 10751,
					"name": "Family"
				},
				{
					"id": 12,
					"name": "Adventure"
				},
				{
					"id": 14,
					"name": "Fantasy"
				},
				{
					"id": 35,
					"name": "Comedy"
				}
			],
			"title": "The Super Mario Bros. Movie",
			"runtime": 92,
			"posterPath": "/qNBAXBIQlnOThrVvA6mA2B5ggV6.jpg",
			"apiMovieId": 502356,
			"movieId": 3,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		}
	],
	"nowShowingData": [
		{
			"backdropPath": "/aAgGrfBwna1nO4M2USxwFgK5O0t.jpg",
			"genres": [
				{
					"id": 27,
					"name": "Horror"
				},
				{
					"id": 53,
					"name": "Thriller"
				},
				{
					"id": 14,
					"name": "Fantasy"
				}
			],
			"title": "Evil Dead Rise",
			"runtime": 96,
			"posterPath": "/5ik4ATKmNtmJU6AYD0bLm56BCVM.jpg",
			"apiMovieId": 713704,
			"movieId": 1,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		},
		{
			"backdropPath": "/3CxUndGhUcZdt1Zggjdb2HkLLQX.jpg",
			"genres": [
				{
					"id": 28,
					"name": "Action"
				},
				{
					"id": 12,
					"name": "Adventure"
				},
				{
					"id": 878,
					"name": "Science Fiction"
				}
			],
			"title": "Ant-Man and the Wasp: Quantumania",
			"runtime": 125,
			"posterPath": "/qnqGbB22YJ7dSs4o6M7exTpNxPz.jpg",
			"apiMovieId": 640146,
			"movieId": 2,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		},
		{
			"backdropPath": "/nLBRD7UPR6GjmWQp6ASAfCTaWKX.jpg",
			"genres": [
				{
					"id": 16,
					"name": "Animation"
				},
				{
					"id": 10751,
					"name": "Family"
				},
				{
					"id": 12,
					"name": "Adventure"
				},
				{
					"id": 14,
					"name": "Fantasy"
				},
				{
					"id": 35,
					"name": "Comedy"
				}
			],
			"title": "The Super Mario Bros. Movie",
			"runtime": 92,
			"posterPath": "/qNBAXBIQlnOThrVvA6mA2B5ggV6.jpg",
			"apiMovieId": 502356,
			"movieId": 3,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		},
		{
			"backdropPath": "/A7JQ7MIV5fkIxceI5hizRIe6DRJ.jpg",
			"genres": [
				{
					"id": 878,
					"name": "Science Fiction"
				},
				{
					"id": 12,
					"name": "Adventure"
				},
				{
					"id": 28,
					"name": "Action"
				}
			],
			"title": "Guardians of the Galaxy Vol. 3",
			"runtime": 150,
			"posterPath": "/r2J02Z2OpNTctfOSN1Ydgii51I3.jpg",
			"apiMovieId": 447365,
			"movieId": 4,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		},
		{
			"backdropPath": "/b9UCfDzwiWw7mIFsIQR9ZJUeh7q.jpg",
			"genres": [
				{
					"id": 28,
					"name": "Action"
				},
				{
					"id": 35,
					"name": "Comedy"
				},
				{
					"id": 10749,
					"name": "Romance"
				}
			],
			"title": "Ghosted",
			"runtime": 120,
			"posterPath": "/liLN69YgoovHVgmlHJ876PKi5Yi.jpg",
			"apiMovieId": 868759,
			"movieId": 5,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		},
		{
			"backdropPath": "/8rpDcsfLJypbO6vREc0547VKqEv.jpg",
			"genres": [
				{
					"id": 878,
					"name": "Science Fiction"
				},
				{
					"id": 12,
					"name": "Adventure"
				},
				{
					"id": 28,
					"name": "Action"
				}
			],
			"title": "Avatar: The Way of Water",
			"runtime": 192,
			"posterPath": "/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",
			"apiMovieId": 76600,
			"movieId": 6,
			"startDate": "2023-05-11",
			"endDate": "2023-05-20"
		}
	],
	"comingSoonData": [
		{
			"backdropPath": "/nDxJJyA5giRhXx96q1sWbOUjMBI.jpg",
			"genres": [
				{
					"id": 28,
					"name": "Action"
				},
				{
					"id": 35,
					"name": "Comedy"
				},
				{
					"id": 14,
					"name": "Fantasy"
				},
				{
					"id": 12,
					"name": "Adventure"
				}
			],
			"title": "Shazam! Fury of the Gods",
			"runtime": 130,
			"posterPath": "/A3ZbZsmsvNGdprRi2lKgGEeVLEH.jpg",
			"apiMovieId": 594767,
			"movieId": 7,
			"startDate": "2023-05-21",
			"endDate": "2023-05-31"
		},
		{
			"backdropPath": "/5i6SjyDbDWqyun8klUuCxrlFbyw.jpg",
			"genres": [
				{
					"id": 18,
					"name": "Drama"
				},
				{
					"id": 28,
					"name": "Action"
				}
			],
			"title": "Creed III",
			"runtime": 116,
			"posterPath": "/cvsXj3I9Q2iyyIo95AecSd1tad7.jpg",
			"apiMovieId": 677179,
			"movieId": 8,
			"startDate": "2023-05-21",
			"endDate": "2023-05-31"
		},
		{
			"backdropPath": "/44immBwzhDVyjn87b3x3l9mlhAD.jpg",
			"genres": [
				{
					"id": 27,
					"name": "Horror"
				},
				{
					"id": 9648,
					"name": "Mystery"
				},
				{
					"id": 53,
					"name": "Thriller"
				}
			],
			"title": "Scream VI",
			"runtime": 123,
			"posterPath": "/wDWwtvkRRlgTiUr6TyLSMX8FCuZ.jpg",
			"apiMovieId": 934433,
			"movieId": 9,
			"startDate": "2023-05-21",
			"endDate": "2023-05-31"
		},
		{
			"backdropPath": "/xwA90BwZXTh8ke3CVsQlj8EOkFr.jpg",
			"genres": [
				{
					"id": 28,
					"name": "Action"
				},
				{
					"id": 12,
					"name": "Adventure"
				},
				{
					"id": 36,
					"name": "History"
				},
				{
					"id": 18,
					"name": "Drama"
				},
				{
					"id": 10752,
					"name": "War"
				}
			],
			"title": "The Last Kingdom: Seven Kings Must Die",
			"runtime": 111,
			"posterPath": "/7yyFEsuaLGTPul5UkHc5BhXnQ0k.jpg",
			"apiMovieId": 948713,
			"movieId": 10,
			"startDate": "2023-05-21",
			"endDate": "2023-05-31"
		},
		{
			"backdropPath": "/h8gHn0OzBoaefsYseUByqsmEDMY.jpg",
			"genres": [
				{
					"id": 28,
					"name": "Action"
				},
				{
					"id": 53,
					"name": "Thriller"
				},
				{
					"id": 80,
					"name": "Crime"
				}
			],
			"title": "John Wick: Chapter 4",
			"runtime": 170,
			"posterPath": "/vZloFAK7NmvMGKE7VkF5UHaz0I.jpg",
			"apiMovieId": 603692,
			"movieId": 11,
			"startDate": "2023-05-21",
			"endDate": "2023-05-31"
		},
		{
			"backdropPath": "/8HfjrSxfTVKmjNh8cJjbu5eXzcX.jpg",
			"genres": [
				{
					"id": 10751,
					"name": "Family"
				},
				{
					"id": 14,
					"name": "Fantasy"
				},
				{
					"id": 28,
					"name": "Action"
				},
				{
					"id": 12,
					"name": "Adventure"
				}
			],
			"title": "Peter Pan & Wendy",
			"runtime": 106,
			"posterPath": "/9NXAlFEE7WDssbXSMgdacsUD58Y.jpg",
			"apiMovieId": 420808,
			"movieId": 12,
			"startDate": "2023-05-21",
			"endDate": "2023-05-31"
		}
	]
}

const imagePaths = [
	'https://image.tmdb.org/t/p/w500/9NXAlFEE7WDssbXSMgdacsUD58Y.jpg',
	// Add more image paths as needed
  ];
  
  function generateImages() {
	const imageList = document.getElementById('imageList');
	
	// Loop through the image paths array
	imagePaths.forEach((path) => {
	  formatData();
	});
  }
  
  // Call the function to generate the images
  generateImages();

  function formatData() {
	data.bannerData.forEach((item)=>{
		const apiMovieId = item.apiMovieId;
		const movieId = item.movieId;
		const posterPath = item.posterPath;

		const listItem = document.createElement('li');
		const image = document.createElement('img');
		image.src = getPathUrl(posterPath);
		image.id = movieId
		listItem.appendChild(image);
		imageList.appendChild(listItem);

		listItem.classList.add('col')
		listItem.addEventListener('click', function() {
			// Route to /movie.html with movieId as a query parameter
			const url = `/movie?movieId=${movieId}`;
			window.location.href = url;
		  });

		console.log("apiMovieId:", apiMovieId);
		console.log("movieId:", movieId);
		console.log("posterPath:", posterPath);
	  });
  };
  


// fetch(`http://localhost:8080/`, {
//   method: 'GET',
//   headers: {"Content-Type": "application/json"}
// })
// .then(response => response.json())
// .then(data => {
// //   console.log('Success:', data);
// //   var poster = document.getElementById("poster")
// //   console.log('Poster:', poster)
// //   poster.src = `https://image.tmdb.org/t/p/w500`+ data.posterPath
// .catch((error) => {
//   console.error('Error:', error);
// }
// const element = document.getElementById("col1-2");
// const image = document.createElement("img");
// image.src = "https://image.tmdb.org/t/p/w500/9NXAlFEE7WDssbXSMgdacsUD58Y.jpg";
// element.appendChild(image);
// // const itemsWithKey = data.reduce((result, item) => {
// 	result.push({ id: item.id, posterPath: item.posterPath });
// 	console.log(result)
//   return result;
// }, []);
// mainSection = document.getElementById("movie-cards")
// for (item in itemsWithKey){
//   const element = document.createElement("li");
//   const image = document.createElement('img');
//   image.src = getPathUrl(item.posterPath);
//   element.className("movieList")
//   element.appendChild(image);
//   mainSection.appendChild(element);
// }

function getPathUrl(path) {
    return "https://image.tmdb.org/t/p/w500" + path
  }